{"version":3,"file":"ChangeIndicatorRegistry.js","names":["sap","ui","define","values","_omit","Log","ManagedObject","JsControlTreeModifier","ElementUtil","ChangesWriteAPI","FlUtils","ChangeCategories","ChangeStates","ChangeIndicatorRegistry","extend","metadata","properties","changeCategories","type","defaultValue","rootControlId","constructor","aArgs","prototype","apply","this","_oRegisteredChanges","_oChangeIndicators","exit","reset","getAllRegisteredChanges","map","oChange","Object","assign","getRegisteredChangeIds","keys","getRegisteredChange","sChangeId","getSelectorsWithRegisteredChanges","oChangeIndicators","sPreviousAffectedElementId","addSelector","sSelectorId","sAffectedElementId","oChangeIndicatorData","bDependent","undefined","push","id","change","getId","dependent","affectedElementId","displayElementsKey","visualizationInfo","displayElementIds","toString","descriptionPayload","forEach","sId","iIndex","affectedElementIds","getRelevantChangesWithSelector","oSelectors","aRelevantChanges","aRelevantChangesForSelector","filter","concat","getChangeIndicator","getChangeIndicators","registerChange","sCommandName","oVersionsModel","oAppComponent","getAppComponentForControl","getElementInstance","getRootControlId","getVisualizationInfo","then","mChangeVisualizationInfo","aCategories","getChangeCategories","sChangeCategory","includes","category","find","sChangeCategoryName","OTHER","aChangeStates","aDraftChangesList","getData","draftFilenames","getState","getDraftAndDirtyStates","DRAFT","ALL","commandName","changeCategory","changeStates","bind","getSelectorIds","aSelectorList","vSelector","oElement","bySelector","Boolean","getInfoFromChangeHandler","oInfoFromChangeHandler","mVisualizationInfo","aChangeSelectors","getSelector","aAffectedElementSelectors","affectedControls","oChangeOriginalSelector","getOriginalSelector","aDisplayElementSelectors","dependentElementIds","dependentControls","displayControls","updateRequired","oSelector","oControl","getChangeHandler","changeType","getChangeType","element","modifier","layer","getLayer","oChangeHandler","getChangeVisualizationInfo","isSuccessfullyApplied","catch","vErr","error","Promise","resolve","registerChangeIndicator","oChangeIndicator","waitForIndicatorRendering","all","oIndicator","waitForRendering","sKeyToRemove","removeRegisteredChange","destroy","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","length"],"sources":["ChangeIndicatorRegistry-dbg.js"],"mappings":"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"}