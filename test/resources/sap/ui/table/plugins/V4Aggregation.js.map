{"version":3,"file":"V4Aggregation.js","names":["sap","ui","define","PluginBase","TableUtils","deepClone","defaultGroupHeaderFormatter","oContext","mGroupLevelInfo","sResourceKey","aValues","property","label","getProperty","path","textProperty","push","getResourceText","V4Aggregation","extend","metadata","library","properties","totalSummaryOnTop","type","defaultValue","totalSummaryOnBottom","groupSummary","groupHeaderFormatter","findOn","prototype","isApplicable","oControl","apply","this","arguments","getMetadata","getName","activate","oBinding","getTableBinding","isA","onActivate","oTable","setRowCountConstraints","fixedTop","fixedBottom","Grouping","setToDefaultGroupMode","Hook","register","Keys","Row","UpdateState","updateRowState","Expand","expandRow","Collapse","collapseRow","onDeactivate","_mGroup","undefined","_mAggregate","_aGroupLevels","_mColumnState","resetCellContentVisibilitySettings","setToDefaultFlatMode","deregister","getBinding","setAggregation","oPlugin","getTable","getColumns","forEach","oColumn","_setCellContentVisibilitySettings","updateCellContentVisibilitySettings","sGroupSummary","getGroupSummary","mColumnState","getId","groupHeader","expanded","subtotals","collapsed","summary","group","total","grandTotal","onTableRowsBound","getModel","deactivate","onTableBindRows","oBindingInfo","parameters","$$aggregation","getAggregationInfo","oState","iLevel","context","bContainsTotals","bIsLeaf","bIsGrandTotal","bIsGroupHeader","bIsGroupTotal","level","expandable","Type","Summary","GroupHeader","fnGroupHeaderFormatter","getGroupHeaderFormatter","sCustomGroupHeaderTitle","key","title","Error","setPropertyInfos","aPropertyInfos","_aPropertyInfos","getPropertyInfos","findPropertyInfo","sPropertyKey","find","oPropertyInfo","setAggregationInfo","oAggregateInfo","Object","assign","columnState","Array","isArray","visible","_sSearch","aAllUnitProperties","aAllAdditionalProperties","aAdditionalProperties","reduce","mGroup","isKey","getAdditionalPropertyPaths","additionally","concat","bind","aVisible","groupLevels","sGroupLevelName","indexOf","sVisiblePropertyName","groupable","aggregatable","unit","oUnitPropertyInfo","aggregationDetails","customAggregate","contextDefiningProperties","sContextDefiningPropertyName","oDefiningPropertyInfo","oGroupedPropertyInfo","text","keys","sKey","hasOwnProperty","filter","sAdditionalProperty","search","updateAggregation","length","mAggregation","aggregate","map","handleGrandTotals","handleGroupTotals","oTextPropertyInfo","oRow","oBindingContext","getRowBindingContext","expand","collapse","setTotalSummaryOnTop","sValue","setProperty","setTotalSummaryOnBottom","setGroupSummary","sTotalSummaryOnTop","getTotalSummaryOnTop","sTotalSummaryOnBottom","getTotalSummaryOnBottom","bShowTotalSummaryOnTop","bShowTotalSummaryOnBottom","bHasGrandTotals","some","grandTotalAtBottomOnly","subtotalsAtBottomOnly"],"sources":["V4Aggregation-dbg.js"],"mappings":"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"}