/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/Layer"],function(r){"use strict";function e(r,e,t,o){const a=Array.isArray(r)?r:[r];a.forEach(function(r){n(r,e,t);s(r,o)})}function t(r){var e=[];var t=r.filter(function(r){return r.endsWith("/*")});t.forEach(function(r){var t=r.replaceAll("/*","");if(t){e.push(t)}});return e}function o(r,e){var o=t(r);return o.some(function(r){return e.startsWith(r)})}function n(r,e,t){if(!r.propertyPath){throw new Error("Invalid change format: The mandatory 'propertyPath' is not defined. Please define the mandatory property 'propertyPath'")}if(!r.operation){throw new Error("Invalid change format: The mandatory 'operation' is not defined. Please define the mandatory property 'operation'")}if(r.operation.toUpperCase()!=="DELETE"){if(!r.hasOwnProperty("propertyValue")){throw new Error("Invalid change format: The mandatory 'propertyValue' is not defined. Please define the mandatory property 'propertyValue'")}}if(!e.includes(r.propertyPath)&&!o(e,r.propertyPath)){throw new Error(`Changing ${r.propertyPath} is not supported. The supported 'propertyPath' is: ${e.join("|")}`)}if(!t.includes(r.operation)){throw new Error(`Operation ${r.operation} is not supported. The supported 'operation' is ${t.join("|")}`)}}function a(r,t,o,n){var a=Object.keys(r).filter(function(r){return r.endsWith("Id")}).shift();if(!r[a]){throw new Error(`Mandatory "${a}" parameter is not provided.`)}if(!r.entityPropertyChange){throw new Error(`Changes for "${r[a]}" are not provided.`)}e(r.entityPropertyChange,t,o,n)}var i={};i[r.CUSTOMER]="customer.";i[r.CUSTOMER_BASE]="customer.";i[r.PARTNER]="partner.";i[r.VENDOR]=null;function p(r,e){var t=e.getLayer();if(!t){throw new Error("Mandatory layer parameter is not provided.")}var o=h(t);if(o===null){Object.keys(i).forEach(function(e){if(i[e]&&r.startsWith(i[e])){throw new Error(`Id ${r} must not start with reserved ${i[e]}`)}})}else if(!r.startsWith(o)){throw new Error(`Id ${r} must start with ${o}`)}}function h(r){var e=i[r];if(e===undefined){throw new Error(`Layer ${r} not supported.`)}return e}function s(r,e){if(!Object.keys(e).includes(r.propertyPath)){return}if(!r.propertyValue.match(e[r.propertyPath])){throw new Error(`Not supported format for propertyPath ${r.propertyPath}. `+`The supported pattern is ${e[r.propertyPath]}`)}}return{checkEntityPropertyChange:a,checkIdNamespaceCompliance:p,getNamespacePrefixForLayer:h,getClearedGenericPath:t,isGenericPropertyPathSupported:o}});
//# sourceMappingURL=DescriptorChangeCheck.js.map