{"version":3,"file":"DependencyHandler.js","names":["sap","ui","define","JsControlTreeModifier","Utils","PENDING","DependencyHandler","getCompleteIdFromSelector","oSelector","oAppComponent","getControlIdBySelector","createNewDependencyObject","oChange","changeObject","dependencies","controlsDependencies","dependentIds","addMapEntry","sSelectorId","oDependencyMap","addChangeIntoSelectorList","addChangeIntoList","aChanges","includes","push","mChanges","addChangeIntoMap","getSelector","id","isSelectorInArray","aExistingDependentSelectorList","oDependentSelector","some","oExistingDependentSelector","idIsLocal","addChangesDependencies","oTargetChange","aDependentSelectorsOfTargetChange","oExistingChange","bCheckingOrder","aDependentSelectorsOfExistingChange","getDependentSelectorList","sDependentControlId","bIsChangesInRevertOrder","indexOf","addDependencyEntry","addDependencies","isValidForDependencyMap","aDependentSelectors","addControlsDependencies","iIndexOfTargetChange","length","aOtherChanges","slice","splice","reverse","forEach","oDependentChange","aDependentSelectorList","aDependentIdList","map","mDependencies","getId","sId","mControlsWithDependencies","isDependencyNeeded","mDependentChangesOnMe","bSelectorAlreadyThere","bIndirectDependency","sChangeId","iterateDependentQueue","sControlId","aCoveredChanges","aDependenciesToBeDeleted","aPromises","dependencyRemovedInLastBatch","sDependencyKey","oDependency","execPromiseQueueSequentially","then","resolveDependenciesForChange","bind","undefined","createEmptyDependencyMap","addChangeAndUpdateDependencies","insertChange","oReferenceChange","iIndex","addRuntimeChangeToMap","processDependentQueue","bContinue","addChangeApplyCallbackToDependency","fnCallback","removeControlsDependencies","aDependentChanges","sChangeKey","sKey","removeChangeFromMap","Object","keys","sCurrentControlId","iIndexInMapElement","removeChangeFromDependencies","getOpenDependentChangesForControl","oDependendSelector"],"sources":["DependencyHandler-dbg.js"],"mappings":";;;;;AAMAA,IAAIC,GAAGC,OAAO,CACb,oDACA,mBACE,SACFC,EACAC,GAEA,aAEA,IAAIC,EAAU,0BAWd,IAAIC,EAAoB,CAAC,EAEzB,SAASC,EAA0BC,EAAWC,GAC7C,OAAON,EAAsBO,uBAAuBF,EAAWC,EAChE,CAEA,SAASE,EAA0BC,GAClC,MAAO,CACNC,aAAcD,EACdE,aAAc,GACdC,qBAAsB,GACtBC,aAAc,GAEhB,CAEA,SAASC,EAAYC,EAAaN,EAASO,GAC1CC,EAA0BD,EAAgBP,EAASM,GACnDG,EAAkBF,EAAgBP,EACnC,CAEA,SAASS,EAAkBF,EAAgBP,GAC1C,IAAKO,EAAeG,SAASC,SAASX,GAAU,CAC/CO,EAAeG,SAASE,KAAKZ,EAC9B,CACD,CAEA,SAASQ,EAA0BD,EAAgBP,EAASM,GAC3DC,EAAeM,SAASP,KAAiB,GAEzC,IAAKC,EAAeM,SAASP,GAAaK,SAASX,GAAU,CAC5DO,EAAeM,SAASP,GAAaM,KAAKZ,EAC3C,CACD,CAEA,SAASc,EAAiBd,EAASH,EAAeU,GACjD,IAAIX,EAAYI,EAAQe,cACxB,GAAInB,EAAW,CACd,GAAIA,EAAUoB,GAAI,CACjBX,EAAYV,EAA0BC,EAAWC,GAAgBG,EAASO,EAC3E,KAAO,CAENE,EAAkBF,EAAgBP,EACnC,CACD,CACA,OAAOO,EAAeG,QACvB,CAEA,SAASO,EAAkBC,EAAgCC,GAC1D,OAAOD,EAA+BE,KAAK,SAASC,GACnD,OAAQA,EAA2BL,KAAOG,EAAmBH,IAAMK,EAA2BC,YAAcH,EAAmBG,SAChI,EACD,CAEA,SAASC,EAAuBC,EAAeC,EAAmCC,EAAiBC,EAAgB9B,EAAea,EAAUH,GAC3I,IAAIqB,EAAsCF,EAAgBG,2BAC1DJ,EAAkCL,KAAK,SAASD,GAE/C,GAAIF,EAAkBW,EAAqCT,GAAqB,CAC/E,IAAIW,EAAsBnC,EAA0BwB,EAAoBtB,GAExE,IAAIkC,EAA0BJ,GAAkBjB,EAASsB,QAAQR,GAAiBd,EAASsB,QAAQN,GACnG,GAAIK,EAAyB,CAC5BE,EAAmBP,EAAiBF,EAAeM,EAAqBvB,EAAgB,KACzF,KAAO,CACN0B,EAAmBT,EAAeE,EAAiBI,EAAqBvB,EACzE,CACA,OAAO,IACR,CACD,EACD,CAEA,SAAS2B,EAAgBV,EAAe3B,EAAea,EAAUH,GAChE,GAAIiB,EAAcW,0BAA2B,CAC5C,IAAIC,EAAsBZ,EAAcK,2BAExCQ,EAAwBb,EAAeY,EAAqBvC,EAAeU,GAI3E,IAAI+B,EAAuB5B,EAASsB,QAAQR,GAC5C,IAAIG,EAAiBW,EAAwB5B,EAAS6B,OAAS,EAE/D,IAAIC,EAAgB9B,EAAS+B,QAC7BD,EAAcE,OAAOJ,EAAsB,GAC3CE,EAAcG,UAAUC,QAAQ,SAASlB,GACxC,GAAIA,EAAgBS,0BAA2B,CAC9CZ,EACCC,EACAY,EACAV,EACAC,EACA9B,EACAa,EACAH,EAEF,CACD,EACD,CACD,CAEA,SAAS8B,EAAwBQ,EAAkBC,EAAwBjD,EAAeU,GACzF,GAAIuC,EAAuBP,OAAQ,CAClC,IAAIQ,EAAmBD,EAAuBE,IAAI,SAASpD,GAC1D,OAAOD,EAA0BC,EAAWC,EAC7C,GAEA,IAAKU,EAAe0C,cAAcJ,EAAiBK,SAAU,CAC5D3C,EAAe0C,cAAcJ,EAAiBK,SAAWnD,EAA0B8C,EACpF,CACAtC,EAAe0C,cAAcJ,EAAiBK,SAAS/C,qBAAuB4C,EAE9EA,EAAiBH,QAAQ,SAASO,GACjC5C,EAAe6C,0BAA0BD,KAAS,GAClD5C,EAAe6C,0BAA0BD,GAAKvC,KAAKiC,EAAiBK,QACrE,EACD,CACD,CAEA,SAASjB,EAAmBY,EAAkB7C,EAAS8B,EAAqBvB,EAAgBwB,GAC3F,GAAIsB,EAAmBR,EAAkB7C,EAAS8B,EAAqBvB,EAAgBwB,GAA0B,CAChHxB,EAAe0C,cAAcJ,EAAiBK,SAAShD,aAAaU,KAAKZ,EAAQkD,SACjF,IAAK3C,EAAe0C,cAAcJ,EAAiBK,SAAS9C,aAAaO,SAASmB,GAAsB,CACvGvB,EAAe0C,cAAcJ,EAAiBK,SAAS9C,aAAaQ,KAAKkB,EAC1E,CAEA,IAAKvB,EAAe+C,sBAAsBtD,EAAQkD,SAAU,CAC3D3C,EAAe+C,sBAAsBtD,EAAQkD,SAAW,EACzD,CACA3C,EAAe+C,sBAAsBtD,EAAQkD,SAAStC,KAAKiC,EAAiBK,QAC7E,CACD,CAEA,SAASG,EAAmBR,EAAkB7C,EAAS8B,EAAqBvB,EAAgBwB,GAC3F,IAAIwB,GAAyBxB,GAA2BxB,EAAe0C,cAAcJ,EAAiBK,SAAS9C,aAAaO,SAASmB,GACrI,IAAI0B,EAAsB,MAC1B,GAAIjD,EAAe+C,sBAAsBtD,EAAQkD,SAAU,CAC1D3C,EAAe+C,sBAAsBtD,EAAQkD,SAAS9B,KAAK,SAASqC,GACnED,EAAsBjD,EAAe0C,cAAcJ,EAAiBK,SAAShD,aAAaS,SAAS8C,GACnG,OAAOD,CACR,EACD,CAEA,OAAQD,IAA0BC,CACnC,CAUA,SAASE,EAAsBnD,EAAgBoD,GAC9C,IAAIC,EAAkB,GACtB,IAAIC,EAA2B,GAC/B,IAAIC,EAAY,GAChB,GAAIvD,EAAewD,6BAA6BJ,GAAa,CAC5DpD,EAAewD,6BAA6BJ,GAAYf,QAAQ,SAASoB,GACxE,IAAIC,EAAc1D,EAAe0C,cAAce,GAC/C,GACCC,GACGA,EAAY/D,aAAaqC,SAAW,KAClC0B,EAAY9D,sBAAwB8D,EAAY9D,qBAAqBoC,QACzE,CACDsB,EAAyBjD,KAAKoD,GAC9BJ,EAAgBhD,KAAKqD,EAAYhE,aAAaiD,SAC9C,GAAIe,EAAYxE,GAAU,CACzBqE,EAAUlD,KAAK,WACd,OAAOqD,EAAYxE,IACpB,EACD,CACD,CACD,EACD,CAEA,OAAOD,EAAM0E,6BAA6BJ,GAAWK,KAAK,SAASP,EAAiBC,EAA0BF,UACtGpD,EAAewD,6BAA6BJ,GACnDE,EAAyBjB,QAAQ,SAASoB,UAClCzD,EAAe0C,cAAce,EACrC,GAEAJ,EAAgBhB,QAAQ,SAASa,GAChC/D,EAAkB0E,6BAA6B7D,EAAgBkD,EAAWE,EAC3E,GAEA,QAASC,EAAgBrB,MAC1B,EAAE8B,KAAKC,UAAWV,EAAiBC,EAA0BF,GAC9D,CAsBAjE,EAAkB6E,yBAA2B,WAC5C,MAAO,CACN7D,SAAU,GACVG,SAAU,CAAC,EACXoC,cAAe,CAAC,EAChBK,sBAAuB,CAAC,EACxBF,0BAA2B,CAAC,EAC5BW,6BAA8B,CAAC,EAEjC,EASArE,EAAkB8E,+BAAiC,SAASxE,EAASH,EAAeU,GACnF,IAAIG,EAAWI,EAAiBd,EAASH,EAAeU,GACxD2B,EAAgBlC,EAASH,EAAea,EAAUH,EACnD,EASAb,EAAkB+E,aAAe,SAASzE,EAASO,EAAgBmE,GAClE,IAAIC,EAASpE,GAAkBA,EAAeG,UAAYH,EAAeG,SAASsB,QAAQ0C,GAC1F,GAAIC,GAAU,EAAG,CAChBpE,EAAeG,SAASgC,OAAOiC,EAAS,EAAG,EAAG3E,EAC/C,CACD,EASAN,EAAkBkF,sBAAwB,SAAS5E,EAASH,EAAeU,GAC1EO,EAAiBd,EAASH,EAAeU,EAC1C,EAUAb,EAAkBmF,sBAAwB,SAAStE,EAAgBV,EAAe8D,GACjF,OAAOD,EAAsBnD,EAAgBoD,GAAYQ,KAAK,SAASR,EAAYmB,GAClF,GAAIA,EAAW,CACd,OAAOpF,EAAkBmF,sBAAsBtE,EAAgBV,EAAe8D,EAC/E,CACD,EAAEU,KAAKC,UAAWX,GACnB,EASAjE,EAAkBqF,mCAAqC,SAASxE,EAAgBkD,EAAWuB,GAC1FzE,EAAe0C,cAAcQ,GAAWhE,GAAWuF,CACpD,EASAtF,EAAkBuF,2BAA6B,SAAS1E,EAAgBoD,GACvE,IAAIuB,EAAoB3E,EAAe6C,0BAA0BO,GACjE,GAAIuB,EAAmB,CACtBA,EAAkBtC,QAAQ,SAASuC,GAClC,IAAIlB,EAAc1D,EAAe0C,cAAckC,GAC/C,GACClB,GACGA,EAAY9D,sBACZ8D,EAAY9D,qBAAqBoC,OACnC,CACD,IAAIoC,EAASV,EAAY9D,qBAAqB6B,QAAQ2B,GACtD,GAAIgB,GAAU,EAAG,CAChBV,EAAY9D,qBAAqBuC,OAAOiC,EAAQ,UACzCpE,EAAe6C,0BAA0BO,GAChDpD,EAAewD,6BAA6BJ,KAAgB,GAC5D,IAAKpD,EAAewD,6BAA6BJ,GAAYhD,SAASwE,GAAa,CAClF5E,EAAewD,6BAA6BJ,GAAY/C,KAAKuE,EAC9D,CACD,CACD,CACD,UACO5E,EAAe6C,0BAA0BO,EACjD,CACD,EAUAjE,EAAkB0E,6BAA+B,SAAS7D,EAAgB4E,EAAYxB,GACrF,IAAIL,EAAwB/C,EAAe+C,sBAAsB6B,GACjE,GAAI7B,EAAuB,CAC1BA,EAAsBV,QAAQ,SAASwC,GACtC,IAAInB,EAAc1D,EAAe0C,cAAcmC,GAI/C,IAAIT,EAASV,EAAcA,EAAY/D,aAAa8B,QAAQmD,IAAe,EAC3E,GAAIR,GAAU,EAAG,CAChBV,EAAY/D,aAAawC,OAAOiC,EAAQ,GACxCpE,EAAewD,6BAA6BJ,KAAgB,GAC5D,IAAKpD,EAAewD,6BAA6BJ,GAAYhD,SAASyE,GAAO,CAC5E7E,EAAewD,6BAA6BJ,GAAY/C,KAAKwE,EAC9D,CACD,CACD,UACO7E,EAAe+C,sBAAsB6B,EAC7C,CACD,EASAzF,EAAkB2F,oBAAsB,SAAS9E,EAAgB4E,GAChEG,OAAOC,KAAKhF,EAAeM,UAAUO,KAAK,SAASoE,GAClD,IAAI9E,EAAWH,EAAeM,SAAS2E,GACvC,IAAIC,EAAqB/E,EAASsC,IAAI,SAAStB,GAC9C,OAAOA,EAAgBwB,OACxB,GAAGlB,QAAQmD,GAEX,GAAIM,KAAwB,EAAG,CAC9B/E,EAASgC,OAAO+C,EAAoB,GACpC,OAAO,IACR,CACD,GAEA,IAAId,EAASpE,EAAeG,SAASsC,IAAI,SAAStB,GACjD,OAAOA,EAAgBwB,OACxB,GAAGlB,QAAQmD,GAEX,GAAIR,KAAY,EAAG,CAClBpE,EAAeG,SAASgC,OAAOiC,EAAQ,EACxC,CACD,EAUAjF,EAAkBgG,6BAA+B,SAASnF,EAAgB4E,EAAYxB,GACrFjE,EAAkB0E,6BAA6B7D,EAAgB4E,EAAYxB,UACpEpD,EAAe0C,cAAckC,EACrC,EAWAzF,EAAkBiG,kCAAoC,SAASpF,EAAgBoD,EAAY9D,GAC1F,IAAIqF,EAAoB,GACxBI,OAAOC,KAAKhF,EAAe0C,eAAeL,QAAQ,SAASwC,GACzD7E,EAAe0C,cAAcmC,GAAMnF,aAAa4B,2BAA2Be,QAAQ,SAASgD,GAC5F,GAAIrG,EAAsBO,uBAAuB8F,EAAoB/F,KAAmB8D,EAAY,CACnGuB,EAAkBtE,KAAKL,EAAe0C,cAAcmC,GAAMnF,aAC3D,CACD,EACD,GACA,OAAOiF,CACR,EAEA,OAAOxF,CACR"}