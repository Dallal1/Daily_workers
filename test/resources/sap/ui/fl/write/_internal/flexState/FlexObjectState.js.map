{"version":3,"file":"FlexObjectState.js","names":["sap","ui","define","_omit","States","CompVariantMerger","VariantManagementState","FlexState","ManifestUtils","ControlVariantApplyAPI","CompVariantState","Versions","FlexControllerFactory","ChangePersistenceFactory","LayerUtils","Utils","FlexObjectState","initFlexStateAndSetReference","mPropertyBag","reference","getFlexReferenceForControl","selector","initialize","componentId","getAppComponentForControl","getId","componentData","manifest","getCompVariantEntities","mCompEntities","getCompVariantsMap","aEntities","invalidateCache","oDataToRestore","getInitialNonFlCompVariantData","Object","keys","forEach","sPersistencyKey","_initialize","variants","controlId","merge","standardVariant","mCompVariantsOfPersistencyKey","sId","byId","push","filterChangeOrChangeDefinitionsByCurrentLayer","currentLayer","saveCompEntities","sReference","persistAll","getChangePersistence","getFlexReferenceForSelector","getChangePersistenceForComponent","filterChangesByCurrentVariants","aChanges","oControl","oComponent","oModel","getModel","getVariantModelName","aVariantManagementReferences","sFlexReference","getVariantManagementReferences","length","aCurrentVariantReferences","map","sVMReference","getCurrentVariantReference","filter","oChange","getFileType","some","sCurrentVariantReference","getVariantReference","getChangePersistenceEntities","oChangePersistence","getChangesForComponent","then","aPersistedChanges","aDirtyChanges","includeDirtyChanges","getDirtyChanges","getLayer","concat","onlyCurrentVariants","saveChangePersistenceEntities","oAppComponent","oFlexController","createForSelector","saveAll","skipUpdateCache","draft","layer","removeOtherLayerChanges","condenseAnyLayer","filterHiddenFlexObjects","aFlexObjects","aFilteredFlexObjects","getFlexObjects","aChangePersistenceEntities","getDirtyFlexObjects","aCompVariantEntities","oFlexObject","getState","LifecycleState","PERSISTED","hasDirtyFlexObjects","hasDirtyChanges","saveFlexObjects","getAppComponentForSelector","bind","this","version","undefined","hasVersionsModel","getVersionsModel","getProperty"],"sources":["FlexObjectState-dbg.js"],"mappings":"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"}