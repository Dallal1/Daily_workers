{"version":3,"file":"RequestDataProvider.js","names":["sap","ui","define","Element","DataProvider","Log","ODataUtils","fetch","deepClone","RETRY_STATUS_CODES","aModes","aMethods","mDataTypeHeaders","json","xml","combineUrlAndParams","sUrl","oParameters","sParamsString","Object","entries","map","oParam","encodeURIComponent","indexOf","join","isJsonResponse","oResponse","sContentType","headers","get","isXmlResponse","RequestDataProvider","extend","metadata","library","properties","allowCustomDataType","type","defaultValue","associations","host","multiple","prototype","init","apply","this","arguments","_retryDueExpiredToken","destroy","_iRetryAfterTimeout","clearTimeout","getLastResponse","_lastResponse","getData","oRequestConfig","getSettings","request","pRequestChain","Promise","resolve","_oDestinations","process","_oCsrfTokenHandler","then","replacePlaceholders","bind","_fetch","catch","_handleExpiredToken","oError","isExpiredToken","setExpiredTokenByRequest","getConfiguration","_bActive","_waitDependencies","sMessage","url","error","reject","getAllowCustomDataType","dataType","parameters","sDataType","mHeaders","mBatchRequests","batch","oBatchSerialized","oRequest","vBody","sMethod","method","toUpperCase","bJsonRequest","_hasHeader","bGetMethod","includes","startsWith","_getRuntimeUrl","JSON","stringify","URLSearchParams","serializeBatchRequest","values","body","assign","options","mode","Headers","withCredentials","credentials","set","_modifyRequestBeforeSent","_isValidRequest","_request","vResult","vData","_deserializeBatchResponse","bNoRetry","fnFetch","_getFetchMethod","_getRequestSettings","bIsDestroyed","ok","text","sResponseText","aError","status","statusText","_retryRequest","parse","toString","window","DOMParser","parseFromString","iRetryAfter","_getRetryAfter","warning","setTimeout","vRetryAfter","retryAfter","Number","isInteger","match","parseInt","oRequestSettings","oCard","getElementById","getCard","oExtension","getAggregation","oHost","getHost","sResource","mOptions","sHeader","sValue","sKey","toLowerCase","sResponseBody","aBatchResponses","deserializeBatchResponse","aKeys","keys","mResult","forEach","iInd","mResponse","Response","responseText","oSettings","modifyRequestHeaders","fromEntries","modifyRequest","getDetails"],"sources":["RequestDataProvider-dbg.js"],"mappings":"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"}