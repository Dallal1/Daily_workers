{"version":3,"file":"URLHandler.js","names":["sap","ui","define","Component","Log","deepEqual","merge","ObjectPath","isEmptyObject","ManagedObjectObserver","hasher","VariantUtil","_mVariantIdChangeHandlers","URLHandler","_getUpdatedURLParameters","aNewHashParameters","oModel","aAddedVMReferences","reduce","oResultantParameters","sVariantReference","sVariantManagementReference","getVariantManagementReference","variantManagementReference","includes","updateRequired","push","oData","currentVariant","defaultVariant","parameters","_checkAndUpdateURLParameters","oParsedHash","vRelevantParameters","get","VARIANT_TECHNICAL_PARAMETER","oUpdatedParameters","update","updateURL","_bDesignTimeMode","updateHashEntry","model","_handleVariantIdChangeInURL","sNewHash","oURLParsingService","getUShellService","oNewParsedHash","parseShellHash","oError","error","message","oShellNavigationService","NavigationFilterStatus","Continue","_registerNavigationFilter","sFlexReference","bind","registerNavigationFilter","_deRegisterNavigationFilter","unregisterNavigationFilter","setTechnicalURLParameterValues","mPropertyBag","oUshellNavigationService","getHash","params","mOldHashParams","Object","assign","mTechnicalParameters","oAppComponent","getComponentData","technicalParameters","warning","length","silent","changed","active","replaceHash","constructShellHash","navigate","target","semanticObject","action","context","contextRaw","appSpecificRoute","writeHistory","getVariantIndexInURL","mReturnObject","index","mURLParameters","getStoredHashParams","Array","isArray","map","decodeURIComponent","some","sParamDecoded","iIndex","getVariant","vmReference","isVariantParameterPresent","variantTechnicalParameterName","initialize","aParams","attachHandlers","updateVariantInURL","mUpdatedParameters","removeURLParameterForVariantManagement","aParameters","bIsDefaultVariant","newVReference","concat","slice","mVariantParametersInURL","splice","observerHandler","_oVariantSwitchPromise","then","_oHashData","controlPropertyObservers","forEach","oObserver","destroy","oComponentDestroyObserver","unobserve","observe","registerControl","variantControlIds","hashParams","info","prototype","call","handleModelContextChange","sContextChangeEvent","handleContextChange","oEvent","oParams","getVariantManagementReferenceForControl","getSource","aVariantManagements","indexOf","sVariantManagementToBeReset","switchToDefaultForVariantManagement","oControlPropertyObserver","current","old","object","attachEvent","detachEvent","vmControl","properties","getResetOnContextChange","clearAllVariantURLParameters"],"sources":["URLHandler-dbg.js"],"mappings":"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"}