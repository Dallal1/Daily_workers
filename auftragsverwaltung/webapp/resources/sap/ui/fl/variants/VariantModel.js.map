{"version":3,"file":"VariantModel.js","names":["sap","ui","define","_omit","_isEqual","each","isEmptyObject","merge","ObjectPath","Log","JsControlTreeModifier","BusyIndicator","Element","Lib","Applier","Reverter","URLHandler","FlexObjectFactory","DependencyHandler","UIChangesState","Switcher","VariantManagementState","ManifestUtils","VariantUtil","Layer","LayerUtils","Utils","Settings","ContextBasedAdaptationsAPI","BindingMode","JSONModel","_mUShellServices","variantSelectHandler","oEvent","mPropertyBag","executeAfterSwitch","mParameters","mVariantProperties","oModel","model","sVMReference","vmReference","bVariantSwitch","bOldVariantWasModified","get","oData","sTargetVReference","key","sSourceVReference","Promise","resolve","then","currentVariant","updateCurrentVariant","variantManagementReference","newVariantReference","appComponent","oAppComponent","internallyCalled","aControlChanges","getControlChangesForVariant","reference","sFlexReference","vReference","eraseDirtyChanges","changes","revert","callVariantSwitchListeners","bind","getParameters","aVariantDirtyChanges","_getDirtyChangesFromVariantChanges","reverse","revertMultipleChanges","modifier","flexController","oFlexController","undefined","oChangePersistence","deleteChanges","fnCallback","_oVariantSwitchPromise","catch","setVariantSwitchPromise","setUShellService","sServiceName","oService","switchVariantAndUpdateModel","sScenario","switchVariant","this","updateVariantInURL","newVReference","updatePersonalVariantPropertiesWithFlpSettings","oVariant","oSettings","getInstanceOrUndef","isVariantPersonalizationEnabled","remove","rename","change","updatePublicVariantPropertiesWithSettings","bUserIsAuthorized","isKeyUser","getUserId","isPublicFlVariantEnabled","toUpperCase","author","isVariantValidForRemove","sVariantManagementReference","bDesignTimeModeToBeSet","sLayer","getCurrentLayer","USER","layer","waitForControlToBeRendered","oControl","getDomRef","addEventDelegate","onAfterRendering","initUshellServices","oUShellContainer","getUshellContainer","aServicePromises","getUShellService","all","aServices","vError","Error","getVariant","aVariants","sVariantKey","find","oCurrentVariant","getAdaptationId","sReference","mContextBasedAdaptationBag","control","bHasAdaptationsModel","hasAdaptationsModel","getDisplayedAdaptationId","VariantModel","extend","constructor","pSequentialImportCompleted","apply","sharing","PRIVATE","PUBLIC","_oChangePersistence","getFlexReferenceForControl","_oResourceBundle","getResourceBundleFor","_oVariantAppliedListeners","fnUpdateListener","updateData","oDataSelector","getVariantManagementMap","addUpdateListener","oLiveDependencyMap","getLiveDependencyMap","getInitialChanges","getId","forEach","oFlexObject","addChangeAndUpdateDependencies","setDefaultBindingMode","OneWay","prototype","oNewVariantsMap","oCurrentData","Object","assign","getData","entries","sVariantManagementKey","oVariantMapEntry","variants","map","oCurrentVariantData","oVariantToCheck","defaultVariant","modified","setData","refresh","invalidateMap","checkUpdate","initialize","getInstance","mProperties","currentVReference","getCurrentVariantReference","call","scenario","getVariantManagementReference","sVariantReference","iIndex","keys","some","sKey","index","variantIndex","getVariantTitle","title","handleInitialLoadScenario","oVariantManagementControl","oVariantChangesForVariant","getVariantChangesForVariant","sDefaultVariantReference","getExecuteOnSelectionForStandardDefault","setExecuteOnSelect","oStandardVariant","instance","setExecuteOnSelection","executeOnSelect","attachVariantApplied","getElementById","vmControlId","getVariantManagementReferenceForControl","waitForVMControlInit","bInitialLoad","callAfterInitialVariant","waitForInitialVariantChanges","sCurrentVariantReference","callback","getRelevantVariantManagementControlId","getVariantManagementControlIds","showExecuteOnSelection","error","sNewVariantReference","createScenario","sControlId","detachVariantApplied","sVMControlId","eraseDirtyChangesOnVariant","aSourceVariantChanges","aSourceVariantDirtyChanges","addAndApplyChangesOnVariant","aChanges","addChanges","reduce","oPreviousPromise","oChange","getControlIdBySelector","getSelector","applyChangeOnControl","view","getViewForControl","oReturn","success","oException","deleteChange","_getVariantTitleCount","sNewText","iCount","toLowerCase","visible","createNewVariant","oSourceVariant","id","variantName","contexts","adaptationId","getFlexObjectMetadata","generator","VENDOR","user","currentVariantComparison","sourceVariantSource","getLayer","variantReference","getVariantReference","sourceVariantReference","createFlVariant","_duplicateVariant","sSourceVariantReference","aVariantChanges","oVariantChange","convertToFileContent","compareAgainstCurrentLayer","oDuplicateVariant","controlChanges","variantChanges","slice","oDuplicateChangeData","aSameLayerChanges","support","sourceChangeFileName","fileName","packageName","createDefaultFileName","changeType","push","createFromFileContent","copyVariant","oDuplicateVariantData","setFavorite","oChangeProperties","selector","fileType","content","favorite","createUIChange","addDirtyChanges","concat","additionalVariantChanges","removeVariant","aChangesToBeDeleted","getDirtyChanges","filter","variant","component","_collectModelChanges","aModelVariants","findVariant","oModelVariant","fnAddPreparedChange","sChangeType","mChangeData","bSupportsPublicChange","includes","sChangeLayer","getParameter","name","sNewTitle","originalTitle","bNewIsFavorite","originalFavorite","exe","bNewExecuteOnSelect","originalExecuteOnSelect","aNewContexts","originalContexts","sNewDefault","originalDefaultVariant","manageVariants","sClass","oContextSharingComponentPromise","attachEventOnce","fnManageClickRta","openManagementDialog","createVariantChange","mAdditionalChangeContent","setVariantProperties","mNewChangeData","setContent","setText","addVariantChange","addDirtyChange","addVariantChanges","aChangePropertyMaps","deleteVariantChange","oVariantInstance","setName","createdByReset","setVisible","setContexts","aHashParameters","getStoredHashParams","indexOf","update","parameters","updateURL","_bDesignTimeMode","updateHashEntry","splice","_ensureStandardVariantExists","oVMDataSection","oVMDataSectionWithoutInit","oStandardVariantInstance","getText","DEFAULT_AUTHOR","BASE","addRuntimeSteadyObject","setModelPropertiesForControl","showFavorites","bOriginalMode","clearAllVariantURLParameters","fnManageClick","_initializeManageVariantsEvents","detachManage","_isEditable","variantsEditable","attachManage","aConfiguredChanges","aConfigurationChangesContent","saveDirtyChanges","handleDirtyChanges","aCopiedVariantDirtyChanges","saveSequenceOfDirtyChanges","oResponse","oResponseData","response","_handleSaveEvent","getSource","_handleSave","getAppComponentForControl","getLocalId","aNewVariantDirtyChanges","overwrite","sVariantLayer","public","sVariantChangeLayer","oBaseChangeProperties","def","mPropertyBagSetDefault","execute","mPropertyBagSetExecute","sId","switchToDefaultForVariantManagement","show","hide","switchToDefaultForVariant","sVariantId","resolveTitleBindingsAndCreateVariantChanges","aMatches","match","sModelName","getModel","sResolvedTitle","getResourceBundle","mChangeProperties","registerToModel","getEditable","attachEvent","attachSave","sUpdateURL","getUpdateVariantInURL","registerControl","handleModelContextChange","vmControl","initPromise","resolveFunction","init","promise","aChangeFileNames","getSavedToVariant","getCurrentControlVariantIds","aCurrentVariants","aVMControlIds","byId","createId","destroy","removeUpdateListener","clearRuntimeSteadyObjects","resetCurrentVariantReference"],"sources":["VariantModel-dbg.js"],"mappings":"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"}