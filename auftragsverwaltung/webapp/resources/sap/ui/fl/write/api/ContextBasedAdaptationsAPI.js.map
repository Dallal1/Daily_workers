{"version":3,"file":"ContextBasedAdaptationsAPI.js","names":["sap","ui","define","Lib","Adaptations","FeaturesAPI","FlexObjectFactory","ManifestUtils","ControlVariantApplyAPI","Layer","LayerUtils","FlexUtils","FlexInfoSession","FlexObjectState","CompVariantMerger","CompVariantState","VariantManagementState","Storage","Versions","JSONModel","_mInstances","_oResourceBundle","aMigrationLayers","VENDOR","PARTNER","CUSTOMER_BASE","CUSTOMER","ContextBasedAdaptationsAPI","getFlexReferenceForControl","oControl","sReference","Error","handleResponseForVersioning","oResponse","mPropertyBag","bDelete","updateModelFromBackend","reference","appId","layer","then","onAllChangesSaved","contextBasedAdaptation","Promise","resolve","initialize","getResourceBundleFor","reject","control","sLayer","bContextBasedAdaptationsEnabled","isContextBasedAdaptationAvailable","bContextBasedAdaptationsEnabledResponse","oAdaptationsPromise","load","adaptations","oAdaptations","oFlexInfoSession","getByReference","oDisplayedAdaptation","adaptationId","find","oAdaptation","id","createModel","oModel","aAdaptations","Array","isArray","length","allAdaptations","count","displayedAdaptation","contextBasedAdaptationsEnabled","updateAdaptations","aContextBasedAdaptations","filter","iIndex","rank","type","Type","Default","setProperty","getProperty","oCorrespondingAdaptation","Object","assign","updateBindings","insertAdaptation","oNewAdaptation","splice","priority","deleteAdaptation","iModelCount","sToBeDisplayedAdaptationId","oDefaultAdaptation","pop","push","switchDisplayedAdaptation","sAdaptationId","getIndexByAdaptationId","oNewDisplayedAdaptation","updateAdaptationContent","oContextBasedAdaptation","oAdaptationForUpdate","title","contexts","aDisplayedAdaptation","iAdaptationIndex","findIndex","undefined","getAdaptationsModel","hasAdaptationsModel","getDisplayedAdaptationId","this","adaptationExists","clearInstances","refreshAdaptationModel","getNewVariantId","mFileNames","sOldVariantId","get","createContextBasedAdaptation","create","flexObject","parentVersion","getParentVersion","bind","writeChangesToBackend","aFlexObjects","write","flexObjects","transport","isLegacyVariant","getFinalState","aFlVariantsFinalState","oVariant","isA","aVariantChanges","oFlexObject","getChangeType","getSelector","variantId","getId","oClone","clone","forEach","applyChangeOnVariant","removeAllChanges","destroy","mProperties","oFlVariant","key","groupVariantsByContextEntry","aVariants","oFinalStates","mUniqueContexts","aUnrestrictedViews","oFinalState","visible","bUnrestricted","aContextKeys","keys","sKey","aContexts","from","sContext","variants","contextBasedAdaptationId","createDefaultFileName","uniqueContexts","unrestrictedViews","createChangeSetVisibleFalseToRestrictedVariant","sPersistencyKey","getPersistencyKey","updateVariant","persistencyKey","forceCreate","getChanges","reverse","convertToFileContent","oAppComponent","getAppComponentForControl","getModel","getVariantModelName","oChange","createVariantChange","getVariantManagementReference","changeType","variantReference","appComponent","getObjectsByLayerAndType","sChangesLayer","bVariants","getLayer","getVariantReference","sFileType","getFileType","isSetContextChange","filterChangesForAdaptation","aIgnoredVariantIds","aChanges","sVariantId","indexOf","copyVariantsAndChanges","sContextBasedAdaptationId","Map","aCopiedVariants","copyVariants","aCopiedChanges","copyChanges","concat","map","aCopiedFlexObjects","oCopiedVariant","createFromFileContent","cloneFileContentWithNewId","setAdaptationId","setContexts","set","oCopiedChange","oCopiedChangeContent","getContent","oCopiedChangeSelector","setSelector","defaultVariantName","setContent","setVariantReference","defaultVariant","getVersionsModel","prepareMigrationData","oMigrationData","contextBasedAdaptations","oGrouped","entries","aEntry","oUniqueContext","getText","role","aCustomerLayerVariants","oContextRelevantVariant","aUniqueContextVariantIds","aVariantIdsNotInUniqueContext","aChangesToCopy","bRestricted","migrate","sParentVersion","aFlexObjectsData","getAllVariants","getFlexObjects","selector","invalidateCache","includeCtrlVariants","includeDirtyChanges","all","flat","oPromise","canMigrate","oContextBasedAdaptationModel","aFilteredFlexObjects","some","call","currentLayer","aCustomerFlexObjects","filterChangeOrChangeDefinitionsByCurrentLayer","update","reorder","parameters","priorities","version","remove"],"sources":["ContextBasedAdaptationsAPI-dbg.js"],"mappings":"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"}