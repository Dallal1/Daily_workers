{"version":3,"file":"Stack.js","names":["sap","ui","define","ManagedObject","PersistenceWriteAPI","FlUtils","Settings","CompositeCommand","JsControlTreeModifier","showMessageBox","Lib","toAvailableChanges","mChanges","aChanges","sFileName","oChange","push","pushToStack","oComponent","mComposite","oStack","oSelector","getSelector","oCommand","selector","changeType","getChangeType","element","bySelector","_oPreparedChange","sCompositeId","getSupportInformation","compositeCommand","pushExecutedCommand","addCommand","handleDiscardedChanges","aDiscardedChanges","bSaveRelevant","aAllExecutedCommands","this","getAllExecutedCommands","forEach","some","oExecutedCommand","getPreparedChange","getId","setRelevantForSave","Stack","extend","metadata","library","properties","saved","type","defaultValue","aggregations","commands","multiple","events","modified","commandExecuted","parameters","command","undo","initializeWithChanges","oControl","aFileNames","_aPersistedChanges","length","getAppComponentForControl","mPropertyBag","invalidateCache","_getUIChanges","then","reduce","bind","Promise","resolve","prototype","addCommandExecutionHandler","fnHandler","_aCommandExecutionHandler","removeCommandExecutionHandler","i","indexOf","splice","init","_toBeExecuted","_oLastCommand","_waitForCommandExecutionHandler","mParam","all","map","_getCommandToBeExecuted","getCommands","fireModified","bExecuted","_bUndoneCommands","pop","insertCommand","top","removeCommand","vObject","bSuppressInvalidate","oRemovedCommand","removeAggregation","removeAllCommands","aCommands","removeAllAggregation","isEmpty","execute","catch","getDiscardedChanges","call","fireCommandExecuted","oError","Error","index","oRtaResourceBundle","getResourceBundleFor","getText","message","title","reject","undefined","_unExecute","canUndo","canSave","getRelevantForSave","canRedo","redo","pushAndExecute","aSubCommands","getSubCommands","concat","oSubCommand","compositeLastTwoCommands","oLastCommand","oSecondLastCommand","oCompositeCommand"],"sources":["Stack-dbg.js"],"mappings":"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"}