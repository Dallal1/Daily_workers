{"version":3,"file":"ChangeVisualization.js","names":["sap","ui","define","Core","Element","Fragment","Lib","isEmptyObject","difference","deepEqual","JsControlTreeModifier","Control","OverlayRegistry","ElementUtil","PersistenceWriteAPI","Layer","FlUtils","ResourceModel","JSONModel","ChangeIndicator","ChangeIndicatorRegistry","ChangeCategories","ChangeStates","_onClick","oPopover","this","getPopover","isOpen","close","_isOverlayInvisible","oOverlay","getDomRef","isVisible","_determineElementOverlay","oElementId","oAffectedElementId","getOverlay","oElementOverlay","oRelevantContainer","getRelevantContainer","ChangeVisualization","extend","metadata","library","properties","rootControlId","type","isActive","defaultValue","aggregations","popover","multiple","constructor","aArgs","_oChangeIndicatorRegistry","changeCategories","getCategories","prototype","apply","_oTextBundle","getResourceBundleFor","setModel","bundle","_oChangeVisualizationModel","active","getIsActive","changeState","ALL","setDefaultBindingMode","_sSelectedChangeCategory","_bSetModeChanged","_fnOnClickHandler","bind","setVersionsModel","oToolbar","oVersionsModel","getModel","setRootControlId","sRootControlId","getRootControlId","_reset","setProperty","_getComponent","getAppComponentForControl","getElementInstance","setIsActive","bActiveState","_updateVisualizationModel","exit","destroy","_toggleRootOverlayClickHandler","updateAfterSave","getProperty","reset","_updateChangeRegistry","then","_selectChangeCategory","_selectChangeState","_updateVisualizationModelMenuData","_determineChangeVisibility","aRegisteredIndependentChanges","aAllRelevantChanges","sVisualizedChangeState","filterRelevantChanges","aChanges","filter","oChange","changeStates","includes","aHiddenChanges","aVisualizedChanges","bHasDraftChanges","bHasDirtyChanges","aAllRelevantChangeIds","map","id","forEach","DIRTY","DRAFT","visualizationInfo","displayElementIds","affectedElementIds","change","getId","push","aRelevantHiddenChanges","aRelevantVisualizedChanges","relevantHiddenChanges","relevantVisualizedChanges","hasDirtyChanges","hasDraftChanges","getData","aAllRegisteredChanges","getAllRegisteredChanges","getRelevantChangesWithSelector","dependent","oSortedChanges","aCommandData","Object","keys","sChangeCategoryName","sTitle","_getChangeCategoryLabel","_getChangesForChangeCategory","length","key","count","title","icon","getIconForCategory","unshift","popupInfoMessage","getText","sortedChanges","sChangeCategory","changeCategory","undefined","iChangesCount","sLabelKey","toUpperCase","_getChangeCategoryButton","sButtonKey","openChangeCategorySelectionPopover","oEvent","_oToolbarButton","getElementById","getParameter","load","name","createId","controller","addDependent","openBy","setPopover","onChangeCategorySelection","sSelectedChangeCategory","getSource","getBindingContext","getObject","onVersioningCategoryChange","sSelectedChangeState","getSelectedKey","sChangeCategoryText","changeCategoryText","_updateChangeIndicators","_setFocusedIndicator","_sSelectedChangeState","_getCommandForChange","sCommand","getSupportInformation","command","getSelector","oComponent","oSelectorControl","bySelector","oLastDependentSelector","getDependentSelectorList","slice","oLastDependentSelectorControl","searchForCommand","sAggregationName","oControl","getElement","getDesignTimeMetadata","getCommandName","getChangeType","oParentOverlay","getParentElementOverlay","oParentAggregationOverlay","getParentAggregationOverlay","getAggregationName","_collectChanges","mPropertyBag","selector","invalidateCache","includeCtrlVariants","currentLayer","CUSTOMER","includeDirtyChanges","onlyCurrentVariants","_getUIChanges","removeOutdatedRegisteredChanges","removeRegisteredChangesWithoutVizInfo","displayedVersion","aRegisteredChangeIds","getRegisteredChangeIds","oCurrentChanges","reduce","oChanges","aCurrentChangeIds","sChangeIdToRemove","removeRegisteredChange","aPromises","sChangeIdToAdd","oChangeToAdd","sCommandName","registerChange","Promise","all","selectChange","sChangeId","_selectChange","aDependentElements","getRegisteredChange","dependentElementIds","sElementId","oOverlayDomRef","scrollIntoView","block","classList","add","addEventListener","remove","once","oData","setData","assign","oSelectors","getSelectorsWithRegisteredChanges","oIndicators","_mDisplayElementsKeyMap","oConnectedElements","_oDesignTime","getSelectionManager","getConnectedElements","sSelectorId","aChangesOnIndicator","aRelevantChanges","_filterRelevantChanges","affectedElementId","oOverlayPosition","getClientRects","left","top","posX","parseInt","posY","changes","oChangeIndicator","getChangeIndicator","sOverlayId","oConnectedElement","getAssociation","_createChangeIndicator","sDisplayElementsKey","displayElementsKey","getOverlayId","setOverlayId","content","aChangeVizInfo","Array","isArray","oRootData","oChangeVizInfo","oConnectedElementId","visible","overlayId","selectorId","connectedElementId","bindElement","registerChangeIndicator","waitForIndicatorRendering","aVisibleIndicators","getChangeIndicators","oIndicator","getVisible","sort","oIndicator1","oIndicator2","iDeltaY","getPosY","iDeltaX","getPosX","aVisibleIndicatorsOnScrollPosition","iIndex","tabIndex","focus","bEnable","oRootOverlayDomRef","oRootOverlay","capture","removeEventListener","triggerModeChange","oRootControl","oMenuButton","getControl","versioningEnabled","versioningAvailable","adjustToolbarSectionWidths"],"sources":["ChangeVisualization-dbg.js"],"mappings":"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"}