{"version":3,"file":"ChangeIndicator.js","names":["sap","ui","define","DateFormat","Control","Element","Fragment","Lib","StaticArea","KeyCodes","resolveBinding","FlUtils","JSONModel","getCommandVisualization","ChangeCategories","ChangeVisualizationUtils","OverlayRegistry","ChangeIndicator","extend","metadata","library","properties","changes","type","defaultValue","posX","posY","overlayId","selectorId","connectedElementId","aggregations","_popover","multiple","visibility","events","selectChange","parameters","changeId","keyPress","originalEvent","detailPopoverOpened","renderer","apiVersion","render","oRm","oControl","openStart","class","sTooltip","getTooltip_AsString","attr","getChanges","length","openEnd","getId","text","close","constructor","aArgs","this","_oDetailModel","setDefaultBindingMode","_fnHoverTrue","_setHoverStyleClasses","bind","_fnHoverFalse","prototype","apply","_bEventAttachedToElement","_oRenderPromise","Promise","resolve","_fnRendered","handleBrowserEventsOnOverlay","oOverlay","sEventHandler","_onSelect","_onKeyDown","handleBrowserEventsOnIndicator","oIndicator","centerVertically","oIndicatorDomRef","getDomRef","iOverlayHeight","getElementById","getOverlayId","offsetHeight","iIndicatorHeight","addStyleClass","removeStyleClass","getTexts","mChangeInformation","oRtaResourceBundle","sOverlayId","oAffectedElement","affectedElementId","mDescriptionPayload","Object","keys","descriptionPayload","reduce","sKey","vOriginalValue","bIsBinding","isBinding","vValue","mPropertyBag","appComponent","getAppComponentForControl","sElementLabel","getDesignTimeMetadata","getLabel","oCommandVisualization","oDescription","getDescription","sCommandName","commandName","sDescriptionText","sDescriptionTooltip","description","descriptionText","descriptionTooltip","changeCategory","sShortenedElementLabel","shortenString","sChangeTextKey","toUpperCase","getText","sDetailButtonText","buttonText","sIconTooltip","tooltip","iconTooltip","getDates","sCreationDate","change","getCreation","oDate","Date","sFallbackDate","fullDate","getDateTimeInstance","format","relativeDate","relative","formatChangesModelItem","getResourceBundleFor","oTexts","oDates","id","detailButtonText","icon","getIconForCategory","init","_iOldTabIndex","call","setVisible","bVisible","getAggregation","destroy","focus","_bScheduledForFocus","setOverlayId","oDomRef","parentNode","removeChild","placeAt","setProperty","onAfterRendering","appendChild","tabIndex","waitForRendering","exit","setChanges","aChanges","aSortedChanges","sort","a","b","reverse","aFormattedChanges","map","setData","setTooltip","oEvent","stopPropagation","_toggleDetailPopover","keyCode","ENTER","fireKeyPress","onDetailPopoverOpened","preventDefault","onIndicatorBrowserInteraction","bAdd","getMetadata","getName","sFunctionName","getConnectedElementId","oConnectedElementOverlay","getOverlay","getAttribute","load","name","sId","controller","then","oPopover","_bOpenedByChangeIndicator","setAggregation","setModel","openBy","isOpen","undefined","_showDependentElements","sChangeId","getSource","getBindingContext","getObject","fireSelectChange"],"sources":["ChangeIndicator-dbg.js"],"mappings":"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"}