{"version":3,"file":"Plugin.js","names":["sap","ui","define","debounce","Plugin","ChangesWriteAPI","OverlayRegistry","OverlayUtil","JsControlTreeModifier","hasStableId","_handleEditableByPlugin","mPropertyBag","aPromises","oSourceElementOverlay","oResponsibleElementOverlay","this","getActionName","isResponsibleElementActionAvailable","getResponsibleElementOverlay","vEditable","getElement","getDesignTimeMetadata","markedAsNotAdaptable","_isEditable","Object","assign","sourceElementOverlay","then","vEditablePromiseValue","_handleModifyPluginList","bind","push","BasePlugin","extend","metadata","abstract","library","properties","commandFactory","type","multiple","events","elementModified","command","prototype","executeWhenVisible","oElementOverlay","fnCallback","fnGeometryChangedCallback","oEvent","getSource","getGeometry","visible","detachEvent","mOverlayGeometry","getElementVisibility","attachEvent","debounceFunction","mDebounceFunctions","oOverlay","sName","fnOriginalFunction","sOverlayId","getId","_onElementModified","_mDebounceFunctions","insertOrRemove","addOrSet","oParams","getParameters","aRelevantOverlays","name","_getRelevantOverlays","value","evaluateEditable","onRegistration","getDesignTime","getStatus","attachEventOnce","oDesignTime","sAggregationName","aAlreadyDefinedRelevantOverlays","getRelevantOverlays","length","getIsPartOfTemplate","findAllOverlaysInContainer","oAggregationOverlay","getAggregationOverlay","aAggregationChildren","getChildren","filter","oChildOverlay","indexOf","concat","setRelevantOverlays","aOverlays","getBusyPlugins","setProcessingStatus","reduce","Promise","all","catch","undefined","_modifyPluginList","asChild","asSibling","bIsEditable","bOverlayIsSibling","addToPluginsList","removeFromPluginsList","_retrievePluginName","bSibling","getMetadata","getName","_isEditableByPlugin","sPluginName","getEditableByPlugins","registerElementOverlay","attachElementModified","deregisterElementOverlay","detachElementModified","getVariantManagementReference","sVariantManagementReference","getVariantManagement","checkAggregationsOnSelf","sAction","sParentAggregationName","sSubAction","oDesignTimeMetadata","oElement","aActionData","getActionDataFromAggregations","oAction","oActionData","aggregation","sChangeType","changeType","bChangeOnRelevantContainer","changeOnRelevantContainer","getRelevantContainer","oRelevantOverlay","getOverlay","resolve","hasChangeHandler","mEditableByPlugins","setEditableByPlugins","values","some","Boolean","setEditable","sControlType","getChangeHandler","element","modifier","layer","getCommandFactory","getFlexSettings","controlType","isAvailable","aElementOverlays","every","_checkRelevantContainerStableID","oRelevantContainer","_checkChangeHandlerAndStableId","getAction","bHasChangeHandler"],"sources":["Plugin-dbg.js"],"mappings":"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"}